"use strict";class gdprCookie{constructor(){this._main_container,this._listeners_added=!1,this._cookie,this._types=new Array({type:"mandatory",text:"Cookies λειτουργικότητας",default:!0,detailsText:"Τα cookies αυτά είναι απαραίτητα γιατί επιτρέπουν την πλοήγηση στον ιστότοπό μας καθώς και τη χρήση των λειτουργιών του ιστότοπου."}),this._cookie_name="gdpr_cookie",this._expires=30,this._btn_settings,this._btn_settings_text,this._btn_hide_settings,this._btn_hide_settings_text,this._btn_accept,this._btn_accept1,this._btn_accept_text,this._intro_text="",this._settings_text="",this._class_prefix="gdpr-cookie",this._position="bottom",this.settingscont,this.messagecont}get cookie(){return this._cookie}get cookie_name(){return this._cookie_name}set cookie_name(t){this._cookie_name=t}get expires(){return this._expires}set expires(t){if(!/^[0-9]*$/i.test(t))throw new Error("Only numbers allowed");this._expires=parseInt(t)}get types(){return this._types}set types(t){if(!Array.isArray(t))throw new Error("Value must be an array of objects");for(let e=0;e<t.length;e++)this._types.push(t[e])}get position(){return this._position}set position(t){"top"!=t&&"bottom"!=t&&"full"!=t||(this._position=t,this._class_prefix=`gdpr-cookie-${t}`)}get intro_text(){return this._intro_text}set intro_text(t){this._intro_text=t}get cookie_type_mandatory_text(){return this._types[0].text}set cookie_type_mandatory_text(t){this._types[0].text=t}get cookie_type_mandatory_detailsText(){return this._types[0].detailsText}set cookie_type_mandatory_detailsText(t){this._types[0].detailsText=t}get settings_text(){return this._settings_text}set settings_text(t){this._settings_text=t}get btn_settings_text(){return this._btn_settings_text}set btn_settings_text(t){this._btn_settings_text=t}get btn_hide_settings_text(){return this._btn_hide_settings_text}set btn_hide_settings_text(t){this._btn_hide_settings_text=t}get btn_accept_text(){return this._btn_accept_text}set btn_accept_text(t){this._btn_accept_text=t}getCookie(t){t+="=";const e=document.cookie.split(";");for(let i=0;i<e.length;i++){let s=e[i];for(;" "==s.charAt(0);)s=s.substring(1);if(0==s.indexOf(t))return JSON.parse(s.substring(t.length,s.length))}}setCookie(t=this._cookie_name,e,i=this._expires){let s=new Date;s.setTime(s.getTime()+24*i*60*60*1e3);let n="expires="+s.toUTCString();document.cookie=t+"="+JSON.stringify(e)+"; "+n}deleteCookie(t){setCookie(t,"",-1)}check(){if(this._cookie=this.getCookie(this._cookie_name),!this._cookie||!this._cookie.accepted){let t={accepted:!1};if(this._types.length>1)for(let e=1;e<this._types.length;e++)t[`${this._types[e].type}`]=this._types[e].default;this.setCookie(this._cookie_name,t,this._expires),this._cookie=this.getCookie(this._cookie_name)}document.addEventListener("DOMContentLoaded",t=>{this.domLoaded()})}domLoaded(t){this._main_container=document.createElement("div"),this._main_container.style.display="none",this._main_container.classList.add("gdpr-cookie-container"),this._main_container.classList.add(`${this._class_prefix}-container`);let e=document.createElement("div");e.classList.add("gdpr-cookie-inner-container"),this.messagecont=document.createElement("div"),this.messagecont.id="gdpr-cookie-message";let i=document.createElement("table"),s=document.createElement("tbody");for(let t=0;t<1;t++){let t=document.createElement("tr");for(let e=0;e<2;e++){let i;(i=document.createElement("td")).setAttribute("valign","middle"),0==e?(i.setAttribute("align","left"),i.innerHTML=this._intro_text):(this._btn_settings=document.createElement("button"),this._btn_settings.id="gdpr-show-cookie-settings",this._btn_settings.innerText=this._btn_settings_text,i.appendChild(this._btn_settings)),t.appendChild(i)}s.appendChild(t)}i.appendChild(s),this.messagecont.appendChild(i),this.settingscont=document.createElement("div"),this.settingscont.style.display="none",this.settingscont.id="gdpr-cookie-settings",i=document.createElement("table"),s=document.createElement("tbody");for(let t=0;t<1;t++){let t=document.createElement("tr");for(let e=0;e<2;e++){let i;if((i=document.createElement("td")).setAttribute("valign","middle"),0==e){i.setAttribute("align","left");let t=document.createElement("p");t.innerHTML=this._settings_text,i.appendChild(t);let e,s,n,o,_=document.createElement("table"),d=document.createElement("tbody");for(let t=0;t<this._types.length;t++){e=document.createElement("tr");for(let i=0;i<2;i++)(s=document.createElement("td")).setAttribute("valign","top"),0==i?((n=document.createElement("input")).type="checkbox",0==t?(n.disabled=!0,n.checked=!0):n.checked=this._cookie[this._types[t].type],n.id=`gdpr-cookie-checkbox-${this._types[t].type}`,s.appendChild(n)):(o=document.createTextNode(this._types[t].text),s.appendChild(o),(o=document.createElement("p")).classList.add("details-txt"),o.innerHTML=`<i>${this._types[t].detailsText}</i>`,s.appendChild(o)),e.appendChild(s);d.appendChild(e)}_.appendChild(d),i.appendChild(_)}else{let t;t=document.createElement("p"),this._btn_hide_settings=document.createElement("button"),this._btn_hide_settings.id="gdpr-hide-cookie-settings",this._btn_hide_settings.innerText=this._btn_hide_settings_text,t.appendChild(this._btn_hide_settings),i.appendChild(t),this._btn_accept1=document.createElement("button"),this._btn_accept1.id="gdpr-accept-btn",this._btn_accept1.innerText=this._btn_accept_text,i.appendChild(this._btn_accept1)}t.appendChild(i)}s.appendChild(t)}i.appendChild(s),this.settingscont.appendChild(i),e.appendChild(this.messagecont),e.appendChild(this.settingscont),this._main_container.appendChild(e),document.body.appendChild(this._main_container),this.showcookie()}showcookie(){this._cookie.accepted||(this._main_container.style.display="block"),this.addlisteners()}addlisteners(){this._listeners_added||(this._listeners_added=!0,this._btn_hide_settings.addEventListener("click",t=>{this.settingscont.style.display="none",this.messagecont.style.display="block"}),this._btn_settings.addEventListener("click",t=>{this.settingscont.style.display="block",this.messagecont.style.display="none"}),this._btn_accept1.addEventListener("click",t=>{if(this.settingscont.style.display="block",this.messagecont.style.display="none",this._cookie.accepted=!0,this._types.length>1)for(let t=1;t<this._types.length;t++)this._cookie[`${this._types[t].type}`]=document.getElementById(`gdpr-cookie-checkbox-${this._types[t].type}`).checked;this.setCookie(this._cookie_name,this._cookie,this._expires),this._main_container.style.display="none"}))}}